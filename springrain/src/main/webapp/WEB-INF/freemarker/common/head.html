<#-- 全局变量 --> 
<#global ctx="${(ctp.contextPath)!''}"> 

<!-- 页头  -->
<#macro head title keywords description>
<html>
    <head>
        <title>${title}</title>
        <meta name="keywords" content="${keywords}" />
        <meta name="description" content="${description}" />
        <meta charset="utf-8">
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" /> 
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="format-detection" content="telephone=no" />
        <script type="text/javascript">
            var ctx="${ctx}";
        </script>
</#macro>


<!-- 内容页面通用头部,该宏包含一些通用js、css，适合业务页面使用，不适用与登陆注册等非业务页面。  -->
<#macro commonHead title keywords description>
    <@h.head title="${title}" keywords="${keywords}" description="${description}"/>
    
    <link rel="stylesheet" href="${ctx}/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="${ctx}/layui/css/global.css" media="all">
    
    <link rel="stylesheet" href="${ctx}/css/custom/common/common.css" media="all">
    
    <script src="${ctx}/js/jquery/jquery-1.12.4.js"></script>
    <script src="${ctx}/js/cache/locache.min.js"></script>
    <!-- layui -->
    <script src="${ctx}/layui/layui.js"></script>
    <!-- 自定义公共js -->
    <script src="${ctx}/js/custom/common/common.js"></script>
    <script src="${ctx}/js/custom/common/message.js"></script>
    
</#macro>



<!-- 头部横向导航  -->
<#macro naviHeader>
        <div class="layui-header header header-demo">
          <div class="layui-main">
            <a class="logo" href="${ctx}">
              <img src="${ctx}/img/logo.jpg" alt="springrain">
            </a>
            <ul class="layui-nav">
                <li class="layui-nav-item  layui-this">
                    <a href="/doc/">个人中心</a>
                 </li>
                 <li class="layui-nav-item">
                    <a href="javascript:exit();">退出</a>
                 </li>
              
            </ul>
          </div>
        </div>
</#macro>


<!-- 左侧菜单  -->
<#macro leftMenu>
        <div class="layui-side layui-bg-black">
            <div class="layui-side-scroll">
                <ul class="layui-nav layui-nav-tree" lay-filter="leftMenu" id="menu">
                
                </ul>
             </div>
        </div>
</#macro>





<!-- 页脚  -->
<#macro footer>
      
     <!-- footer -->
        <div class="layui-footer footer footer-demo">
          <div class="layui-main">
            <p>2016 &copy; <a href="http://www.weicms.net">www.weicms.net</a>Apache Licence 2.0</p>
          </div>
        </div>
        
        
        <div class="site-tree-mobile layui-hide">
          <i class="layui-icon">&#xe602;</i>
        </div>
        <div class="site-mobile-shade"></div>
</#macro>


<!-- ******************  -->
<!-- ********模块宏******  -->
<!-- 适用于某些页面例如使用分页等模块功能调用  -->
<!-- ******************  -->

<!-- 分页模块，需要传入参数  -->
<#macro layPage cont formId page  skin="#c00">
    <script>
        layui.use(['laypage'], function(){
            var prev = !${page.hasPrev?c}?false:"上一页";
            var next = !${page.hasNext?c}?false:"下一页";
            var settings = {
                    cont:'${cont}',
                    pages:${page.pageCount},
                    curr:${page.pageIndex},
                    groups:${page.pageSize},
                    skin:'${skin}',
                    first:1,
                    last:${page.pageCount},
                    prev:prev,
                    next:next,
                    skip:true,
                    jump:function(obj, first){
                        if("${page.pageIndex}"!=obj.curr){
                            $("[name='pageIndex']").val(obj.curr);
                        	$("#${formId}").submit();
                        }
                    }
            }
            layui.laypage(settings);
        });
    </script>
</#macro>
